/* ========================================
   KME Pest Control - Modular Stylesheet
   Main import file for all CSS modules
   Clean, organized, maintainable architecture
======================================== */

/* ========================================
   EXTERNAL FONTS - Must be first!
======================================== */
@import url('https://fonts.googleapis.com/css2?family=Rubik+Mono+One&display=swap');

/* ========================================
   1. FOUNDATION LAYER - Base styles & design tokens
======================================== */
@import url('./1-foundation/variables.css');
@import url('./1-foundation/reset.css');
@import url('./1-foundation/typography.css');

/* ========================================
   2. LAYOUT LAYER - Grid system & utilities
======================================== */
@import url('./2-layout/grid.css');
@import url('./2-layout/utilities.css');

/* ========================================
   3. COMPONENTS LAYER - Reusable components
======================================== */
@import url('./3-components/buttons.css');
@import url('./3-components/cards.css');
@import url('./3-components/navigation.css');
@import url('./3-components/footer.css');
@import url('./3-components/forms.css');
@import url('./3-components/animations.css');

/* ========================================
   4. PAGES LAYER - Page-specific styles
======================================== */
@import url('./4-pages/homepage.css');
@import url('./4-pages/services.css');
@import url('./4-pages/about.css');
@import url('./4-pages/products.css');
@import url('./4-pages/booking.css');
@import url('./4-pages/contact.css');

/* ========================================
   5. RESPONSIVE LAYER - Media queries & breakpoints
======================================== */
@import url('./5-responsive/media-queries.css');

/* ========================================
   MAIN CSS - Body & Global Settings
======================================== */
body {
    font-family: var(--font-primary);
    line-height: 1.6;
    color: var(--black);
    background-color: var(--cream-bg);
    overflow-x: hidden;
    padding-top: 100px; /* Optimized for header without social banner */
}

/* ========================================
   LOADING OVERLAY - Global utility
======================================== */
.loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255, 255, 255, 0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    opacity: 0;
    visibility: hidden;
    transition: var(--transition-medium);
}

.loading-overlay.active {
    opacity: 1;
    visibility: visible;
}

.loading-spinner {
    width: 50px;
    height: 50px;
    border: 4px solid #E9ECEF;
    border-top: 4px solid var(--primary-blue);
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* ========================================
   PERFORMANCE OPTIMIZATIONS
======================================== */

/* GPU acceleration for smooth animations */
.btn-whatsapp-primary,
.btn-whatsapp-secondary,
.btn-emergency,
.service-card,
.product-card,
.card {
    will-change: transform;
}

/* Optimize font loading */
@font-display swap;

/* ========================================
   ACCESSIBILITY ENHANCEMENTS
======================================== */

/* Focus styles for keyboard navigation */
a:focus-visible,
button:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
    outline: 3px solid var(--primary-blue);
    outline-offset: 2px;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    :root {
        --gray-400: #000000;
        --gray-500: #000000;
        --gray-600: #000000;
    }
}

/* Screen reader only content */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/* ========================================
   DEVELOPER UTILITIES (Development only)
======================================== */

/* Uncomment for debugging layout issues */
/*
.debug * {
    outline: 1px solid red;
}

.debug-grid {
    background: linear-gradient(rgba(255,0,0,0.15) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,0,0,0.15) 1px, transparent 1px);
    background-size: 20px 20px;
}
*/

/* ========================================
   BROWSER SPECIFIC FIXES
======================================== */

/* Safari fixes */
@supports (-webkit-appearance: none) {
    .service-card,
    .product-card {
        transform: translateZ(0);
    }
}

/* Firefox fixes */
@-moz-document url-prefix() {
    .loading-spinner {
        animation: spin 1s linear infinite;
    }
}

/* IE11 fallbacks (if needed) */
@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
    .grid-cols-2 {
        display: block;
    }
    
    .service-card,
    .product-card {
        float: left;
        width: 48%;
        margin-right: 2%;
    }
}
